import { QRCodeType, Version as Version } from './types';

/**
 * Pad codewords to use when filling a BitBuffer to its full length.
 */
export const PAD_CODEWORDS = [0b11101100, 0b00010001];

/**
 * The 4-bit mode indicator for each encoding mode.
 */
export const MODE_INDICATOR: Record<string, number> = {
	NUMERIC: 0b0001,
	ALPHANUMERIC: 0b0010,
	BYTE: 0b0100,
	KANJI: 0b1000
};

/**
 * The standard encoding table for alphanumeric mode.
 */
export const ALPHANUMERIC_ENCODING_TABLE: Record<string, number> = {
	'0': 0,
	'1': 1,
	'2': 2,
	'3': 3,
	'4': 4,
	'5': 5,
	'6': 6,
	'7': 7,
	'8': 8,
	'9': 9,
	'A': 10,
	'B': 11,
	'C': 12,
	'D': 13,
	'E': 14,
	'F': 15,
	'G': 16,
	'H': 17,
	'I': 18,
	'J': 19,
	'K': 20,
	'L': 21,
	'M': 22,
	'N': 23,
	'O': 24,
	'P': 25,
	'Q': 26,
	'R': 27,
	'S': 28,
	'T': 29,
	'U': 30,
	'V': 31,
	'W': 32,
	'X': 33,
	'Y': 34,
	'Z': 35,
	'SP': 36,
	'$': 37,
	'%': 38,
	'*': 39,
	'+': 40,
	'-': 41,
	'.': 42,
	'/': 43,
	':': 44
};

/**
 * The number of codewords (8 bits) a QR code version holds.
 */
export const CODEWORDS_CAPACITY_BY_VERSION: Record<Version, number> = {
	1: 26,
	2: 44,
	3: 70,
	4: 100,
	5: 134,
	6: 172,
	7: 196,
	8: 242,
	9: 292,
	10: 346,
	11: 404,
	12: 466,
	13: 532,
	14: 581,
	15: 655,
	16: 733,
	17: 815,
	18: 901,
	19: 991,
	20: 1085,
	21: 1156,
	22: 1258,
	23: 1364,
	24: 1474,
	25: 1588,
	26: 1706,
	27: 1828,
	28: 1921,
	29: 2051,
	30: 2185,
	31: 2323,
	32: 2465,
	33: 2611,
	34: 2761,
	35: 2876,
	36: 3034,
	37: 3196,
	38: 3362,
	39: 3532,
	40: 3706
};

/**
 * The number of  **data** codewords (8 bits) a given QR code type holds.
 */
export const DATA_CODEWORDS_BY_TYPE: Record<QRCodeType, number> = {
	'1L': 19,
	'1M': 16,
	'1Q': 13,
	'1H': 9,
	'2L': 34,
	'2M': 28,
	'2Q': 22,
	'2H': 16,
	'3L': 55,
	'3M': 44,
	'3Q': 34,
	'3H': 26,
	'4L': 80,
	'4M': 64,
	'4Q': 48,
	'4H': 36,
	'5L': 108,
	'5M': 86,
	'5Q': 62,
	'5H': 46,
	'6L': 136,
	'6M': 108,
	'6Q': 76,
	'6H': 60,
	'7L': 156,
	'7M': 124,
	'7Q': 88,
	'7H': 66,
	'8L': 194,
	'8M': 154,
	'8Q': 110,
	'8H': 86,
	'9L': 232,
	'9M': 182,
	'9Q': 132,
	'9H': 100,
	'10L': 274,
	'10M': 216,
	'10Q': 154,
	'10H': 122,
	'11L': 324,
	'11M': 254,
	'11Q': 180,
	'11H': 140,
	'12L': 370,
	'12M': 290,
	'12Q': 206,
	'12H': 158,
	'13L': 426,
	'13M': 334,
	'13Q': 246,
	'13H': 194,
	'14L': 476,
	'14M': 374,
	'14Q': 290,
	'14H': 226,
	'15L': 528,
	'15M': 418,
	'15Q': 320,
	'15H': 250,
	'16L': 588,
	'16M': 456,
	'16Q': 356,
	'16H': 280,
	'17L': 648,
	'17M': 504,
	'17Q': 390,
	'17H': 310,
	'18L': 708,
	'18M': 546,
	'18Q': 426,
	'18H': 338,
	'19L': 768,
	'19M': 600,
	'19Q': 456,
	'19H': 364,
	'20L': 832,
	'20M': 650,
	'20Q': 494,
	'20H': 400,
	'21L': 900,
	'21M': 704,
	'21Q': 538,
	'21H': 432,
	'22L': 960,
	'22M': 750,
	'22Q': 572,
	'22H': 462,
	'23L': 1032,
	'23M': 804,
	'23Q': 614,
	'23H': 498,
	'24L': 1104,
	'24M': 860,
	'24Q': 660,
	'24H': 538,
	'25L': 1176,
	'25M': 916,
	'25Q': 700,
	'25H': 572,
	'26L': 1252,
	'26M': 980,
	'26Q': 746,
	'26H': 604,
	'27L': 1324,
	'27M': 1036,
	'27Q': 794,
	'27H': 644,
	'28L': 1400,
	'28M': 1096,
	'28Q': 842,
	'28H': 682,
	'29L': 1480,
	'29M': 1156,
	'29Q': 892,
	'29H': 722,
	'30L': 1560,
	'30M': 1216,
	'30Q': 940,
	'30H': 762,
	'31L': 1640,
	'31M': 1276,
	'31Q': 992,
	'31H': 804,
	'32L': 1728,
	'32M': 1344,
	'32Q': 1040,
	'32H': 844,
	'33L': 1808,
	'33M': 1408,
	'33Q': 1092,
	'33H': 884,
	'34L': 1888,
	'34M': 1472,
	'34Q': 1144,
	'34H': 924,
	'35L': 1976,
	'35M': 1536,
	'35Q': 1196,
	'35H': 968,
	'36L': 2064,
	'36M': 1604,
	'36Q': 1250,
	'36H': 1012,
	'37L': 2156,
	'37M': 1676,
	'37Q': 1304,
	'37H': 1056,
	'38L': 2248,
	'38M': 1748,
	'38Q': 1358,
	'38H': 1100,
	'39L': 2340,
	'39M': 1820,
	'39Q': 1414,
	'39H': 1144,
	'40L': 2432,
	'40M': 1892,
	'40Q': 1470,
	'40H': 1188
};

/**
 * The number of error correction blocks by QR Code type.
 */
export const ERROR_CORRECTION_BLOCKS_BY_TYPE: Record<QRCodeType, number> = {
	'1L': 1,
	'1M': 1,
	'1Q': 1,
	'1H': 1,
	'2L': 1,
	'2M': 1,
	'2Q': 1,
	'2H': 1,
	'3L': 1,
	'3M': 1,
	'3Q': 2,
	'3H': 2,
	'4L': 1,
	'4M': 1,
	'4Q': 2,
	'4H': 4,
	'5L': 1,
	'5M': 2,
	'5Q': 2,
	'5H': 2,
	'6L': 2,
	'6M': 4,
	'6Q': 4,
	'6H': 4,
	'7L': 2,
	'7M': 4,
	'7Q': 4,
	'7H': 1,
	'8L': 2,
	'8M': 2,
	'8Q': 4,
	'8H': 2,
	'9L': 2,
	'9M': 4,
	'9Q': 4,
	'9H': 4,
	'10L': 2,
	'10M': 2,
	'10Q': 6,
	'10H': 2,
	'11L': 4,
	'11M': 4,
	'11Q': 4,
	'11H': 8,
	'12L': 2,
	'12M': 6,
	'12Q': 4,
	'12H': 7,
	'13L': 4,
	'13M': 8,
	'13Q': 12,
	'13H': 4,
	'14L': 3,
	'14M': 5,
	'14Q': 11,
	'14H': 5,
	'15L': 3,
	'15M': 7,
	'15Q': 15,
	'15H': 8,
	'16L': 4,
	'16M': 5,
	'16Q': 8,
	'16H': 11,
	'17L': 4,
	'17M': 14,
	'17Q': 16,
	'17H': 6,
	'18L': 3,
	'18M': 16,
	'18Q': 12,
	'18H': 12,
	'19L': 4,
	'19M': 18,
	'19Q': 16,
	'19H': 16,
	'20L': 4,
	'20M': 1,
	'20Q': 1,
	'20H': 18,
	'21L': 4,
	'21M': 2,
	'21Q': 2,
	'21H': 6,
	'22L': 4,
	'22M': 4,
	'22Q': 4,
	'22H': 8,
	'23L': 4,
	'23M': 6,
	'23Q': 6,
	'23H': 10,
	'24L': 6,
	'24M': 8,
	'24Q': 8,
	'24H': 12,
	'25L': 8,
	'25M': 10,
	'25Q': 10,
	'25H': 16,
	'26L': 8,
	'26M': 12,
	'26Q': 12,
	'26H': 12,
	'27L': 10,
	'27M': 16,
	'27Q': 14,
	'27H': 16,
	'28L': 10,
	'28M': 10,
	'28Q': 18,
	'28H': 10,
	'29L': 12,
	'29M': 12,
	'29Q': 16,
	'29H': 16,
	'30L': 12,
	'30M': 14,
	'30Q': 18,
	'30H': 18,
	'31L': 14,
	'31M': 16,
	'31Q': 22,
	'31H': 22,
	'32L': 16,
	'32M': 18,
	'32Q': 20,
	'32H': 20,
	'33L': 16,
	'33M': 20,
	'33Q': 24,
	'33H': 24,
	'34L': 18,
	'34M': 22,
	'34Q': 28,
	'34H': 28,
	'35L': 18,
	'35M': 24,
	'35Q': 24,
	'35H': 30,
	'36L': 20,
	'36M': 26,
	'36Q': 28,
	'36H': 24,
	'37L': 22,
	'37M': 28,
	'37Q': 28,
	'37H': 28,
	'38L': 24,
	'38M': 30,
	'38Q': 32,
	'38H': 30,
	'39L': 24,
	'39M': 32,
	'39Q': 32,
	'39H': 30,
	'40L': 26,
	'40M': 34,
	'40Q': 36,
	'40H': 32
};
